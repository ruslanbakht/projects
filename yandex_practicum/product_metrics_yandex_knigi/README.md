# Расчёт продуктовых метрик сервиса Яндекс Книги в SQL

## 1. Цели и задачи проекта

**Цель:**  рассчитать продуктовые метрики сервиса Яндекс Книги

**Задачи:**
1. Расчёт MAU топ-3 авторов с наибольшим MAU в ноябре 
2. Расчёт MAU топ-3 произведений с наибольшим MAU в ноябре
3. Расчитать ежедневный Retention Rate всех пользователей, которые были активны 2 декабря
4. Рассчитать средние LTV для пользователей в Москве и Санкт-Петербурге
5. Рассчитать ежемесячную среднюю выручку от часа чтения или прослушивания по такой формуле: выручка (MAU * 399 рублей) / сумма прослушанных часов.
   
## 2. Описание данных 
- Таблицы этого проекта содержат данные о чтении и прослушивании контента в сервисе Яндекс Книги, которые включают информацию о пользователях, платформах, времени, длительности сессий и типах контента. Данные представлены за период с 1 сентября по 11 декабря 2024 года. В вашем распоряжении будет несколько таблиц.
- Таблица bookmate.audition содержит данные об активности пользователей и состоит из следующих полей:
- audition_id — уникальный идентификатор сессии чтения или прослушивания;
- puid — идентификатор пользователя;
- usage_platform_ru — название платформы, с помощью которой пользователь слушал контент;
- msk_business_dt_str — дата события в формате строки (московское время);
- app_version — версия приложения, которая использовалась для чтения или прослушивания;
- adult_content_flg — был ли это контент для взрослых: True или False;
- hours — длительность чтения или прослушивания в часах;
- hours_sessions_long — продолжительность длинных сессий чтения или прослушивания в часах;
- kids_content_flg — был ли это детский контент: True или False;
- main_content_id — идентификатор основного контента;
- usage_geo_id — идентификатор географического местоположения.
- Таблица bookmate.content содержит данные о контенте и состоит из следующих полей:
- main_content_id — идентификатор основного контента;
- main_author_id — идентификатор основного автора контента;
- main_content_type — тип контента;
- main_content_name— название контента;
- main_content_duration_hours — длительность контента в часах;
- published_topic_title_list — список жанров контента.
- Таблица bookmate.author содержит данные об авторах контента и состоит из следующих полей:
- main_author_id — идентификатор основного автора контента;
- main_author_name — имя основного автора контента.
- Таблица bookmate.geo содержит данные о местоположении и состоит из следующих полей:
- usage_geo_id — идентификатор географического положения;
- usage_geo_id_name — город или регион географического положения;
- usage_country_name — страна географического положения.

